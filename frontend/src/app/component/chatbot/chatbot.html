<!-- chatbot.component.html -->
<div class="w-full h-[calc(100vh-64px)] bg-[#f87171] text-white p-4 overflow-auto">
  <div class="chatbot-container">
    <!-- Left Panel - Welcome and Quick Questions -->
    <div class="left-panel">
      <div class="welcome-section">
        <div class="bot-icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" fill="currentColor"/>
          </svg>
        </div>
        <h2>AI Travel Assistant</h2>
        <p>How can I help you with your bus booking today?</p>
      </div>
      
      <div class="quick-questions">
        <h3>Quick Questions</h3>
        <div class="question-cards">
          <div class="question-card" (click)="selectQuestion('What\'s the fare?')">
            <span>What's the fare?</span>
          </div>
          <div class="question-card" (click)="selectQuestion('Available buses?')">
            <span>Available buses?</span>
          </div>
          <div class="question-card" (click)="selectQuestion('Help with booking')">
            <span>Help with booking</span>
          </div>
          <div class="question-card" (click)="selectQuestion('Bus timings')">
            <span>Bus timings</span>
          </div>
          <div class="question-card" (click)="selectQuestion('Cancellation policy')">
            <span>Cancellation policy</span>
          </div>
          <div class="question-card" (click)="selectQuestion('Seat selection')">
            <span>Seat selection</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Right Panel - Chat Conversation -->
    <div class="right-panel">
      <div class="chat-header">
        <div class="header-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" fill="currentColor"/>
          </svg>
        </div>
        <h3>AI Travel Assistant</h3>
        <button class="close-btn" (click)="closeChat()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      
      <div class="chat-messages" #chatMessages>
        <div class="message bot-message" *ngFor="let message of messages; let i = index">
          <div class="message-avatar" *ngIf="message.type === 'bot'">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" fill="currentColor"/>
            </svg>
          </div>
          <div class="message-content" [ngClass]="{'user-message': message.type === 'user', 'bot-message': message.type === 'bot'}">
            <p>{{ message.content }}</p>
            <span class="message-time">{{ message.timestamp | date:'short' }}</span>
          </div>
        </div>
        
        <!-- Welcome Message -->
        <div class="message bot-message" *ngIf="messages.length === 0">
          <div class="message-avatar">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L15.09 8.26L22 9L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9L8.91 8.26L12 2Z" fill="currentColor"/>
            </svg>
          </div>
          <div class="message-content bot-message">
            <p>Hello! I'm your AI Travel Assistant. I can help you with bus bookings, fares, schedules, and more. How can I assist you today?</p>
          </div>
        </div>
      </div>
      
      <div class="chat-input">
        <div class="input-container">
          <input 
            type="text" 
            [(ngModel)]="currentMessage" 
            (keyup.enter)="sendMessage()"
            placeholder="Ask me anything"
            class="message-input"
            [disabled]="isTyping"
          />
          <button 
            class="send-button" 
            (click)="sendMessage()" 
            [disabled]="!currentMessage.trim() || isTyping"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <div class="typing-indicator" *ngIf="isTyping">
          <div class="typing-dots">
            <span></span>
            <span></span>
            <span></span>
          </div>
          <span class="typing-text">AI is typing...</span>
        </div>
      </div>
    </div>
  </div>
</div>